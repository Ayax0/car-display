{"version":3,"sources":["webpack:///./src/router/views/show.vue?c857","webpack:///./src/router/views/show.vue","webpack:///./src/router/views/show.vue?19ca"],"names":["class","style","cssBridge","show","$router","go","icon","height","color","src","image","url","name","publisher","html_description","episodes","episode","key","id","play","images","description","length","max","loadMore","data","undefined","computed","account","showId","this","$route","params","watch","val","console","log","mounted","push","api","get","then","res","sort","a","b","width","total_episodes","r","g","catch","err","items","methods","put","context_uri","uri","offset","response","concat","__exports__","render"],"mappings":"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","file":"js/chunk-487f80e5.e8d2a332.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./show.vue?vue&type=style&index=0&id=6489d6a2&lang=scss&scoped=true\"","<script>\r\nimport { mapState } from \"vuex\";\r\n\r\nimport { getImageColor } from \"@src/utils/colorUtils.js\";\r\n\r\nexport default {\r\n\tname: \"Show\",\r\n\tdata() {\r\n\t\treturn {\r\n      show: undefined,\r\n\t\t\tepisodes: undefined,\r\n      color: undefined,\r\n      max: 0,\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState({ account: \"account\" }),\r\n        showId() {\r\n            return this.$route.params.id;\r\n        },\r\n        cssBridge() {\r\n\t\t\treturn {\r\n\t\t\t\t\"--color-primary\": this.color,\r\n\t\t\t};\r\n\t\t},\r\n        image() {\r\n            return this.show.images[0];\r\n        }\r\n\t},\r\n\twatch: {\r\n\t\tepisodes(val) {\r\n\t\t\tconsole.log(val)\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tif(!this.account) return this.$router.push(\"/login\");\r\n\r\n        this.account.api.get(\"/shows/\" + this.showId)\r\n\t\t.then((res) => {\r\n            this.show = res.data;\r\n            this.show.images.sort((a, b) => (a.width > b.width ? -1 : 1));\r\n            this.max = this.show.total_episodes;\r\n            getImageColor(this.image)\r\n            .then((res) => this.color = `rgb(${res[0].r},${res[0].g},${res[0].b})`);\r\n        })\r\n\t\t.catch((err) => console.log(err))\r\n\r\n\t\tthis.account.api.get(\"/shows/\" + this.showId + \"/episodes?limit=20&offset=0\")\r\n\t\t.then((res) => {\r\n            this.episodes = res.data.items;\r\n        })\r\n\t\t.catch((err) => console.log(err))\r\n\t},\r\n    methods: {\r\n        play(episode) {\r\n            console.log(episode)\r\n            this.account.api.put(\"/me/player/play\", {\r\n\t\t\t\tcontext_uri: this.show.uri,\r\n                offset: {\r\n                    uri: episode.uri\r\n                }\r\n\t\t\t})\r\n\t\t\t.then(() => this.$router.push(\"/\"))\r\n\t\t\t.catch((err) => console.log(err.response));\r\n        },\r\n        loadMore() {\r\n            this.account.api.get(\"/shows/\" + this.showId + \"/episodes?limit=20&offset=\" + this.episodes.length)\r\n            .then((res) => {\r\n                this.episodes = this.episodes.concat(res.data.items);\r\n            })\r\n            .catch((err) => console.log(err))\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    class=\"main\"\r\n    :style=\"cssBridge\"\r\n  >\r\n    <template v-if=\"show\">\r\n      <div class=\"header\">\r\n        <div\r\n          class=\"back-button\"\r\n          @click=\"$router.go(-1)\"\r\n        >\r\n          <Icon\r\n            icon=\"mdi:chevron-left-circle\"\r\n            height=\"2.5rem\"\r\n            color=\"white\"\r\n          />\r\n        </div>\r\n        <img :src=\"image.url\">\r\n        <div class=\"info\">\r\n          <div class=\"show-type\">\r\n            Podcast\r\n          </div>\r\n          <div class=\"show-title\">\r\n            {{ show.name }}\r\n          </div>\r\n          <div class=\"show-publisher\">\r\n            {{ show.publisher }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"content\">\r\n        <div class=\"section-title\">\r\n          Informationen\r\n        </div>\r\n        <div\r\n          class=\"description-content\"\r\n          v-html=\"show.html_description\"\r\n        />\r\n        <div class=\"section-title\">\r\n          Alle Folgen\r\n        </div>\r\n        <template v-if=\"episodes\">\r\n          <div\r\n            v-for=\"episode in episodes\"\r\n            :key=\"episode.id\"\r\n            class=\"episode\"\r\n            @click=\"play(episode)\"\r\n          >\r\n            <img :src=\"episode.images[0].url\">\r\n            <div class=\"episode-info\">\r\n              <div class=\"episode-title\">\r\n                {{ episode.name }}\r\n              </div>\r\n              <div class=\"episode-description\">\r\n                {{ episode.description }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            v-if=\"episodes.length < max\"\r\n            class=\"load-more\"\r\n            @click=\"loadMore\"\r\n          >\r\n            Mehr laden\r\n          </div>\r\n        </template>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.main {\r\n    width: 100vw;\r\n\theight: 100vh;\r\n    display: grid;\r\n    grid-template-areas:\r\n        \"header\"\r\n        \"content\";\r\n    grid-template-columns: 100vw;\r\n    grid-template-rows: 20rem auto;\r\n    background: var(--color-primary);\r\n    color: white;\r\n    overflow-y: auto;\r\n\r\n    &::-webkit-scrollbar {\r\n        display: none;\r\n    }\r\n\r\n    .header {\r\n        position: relative;\r\n        grid-area: header;\r\n        padding: 1rem;\r\n        display: flex;\r\n        align-items: flex-end;\r\n        gap: 1rem;\r\n        background: linear-gradient(180deg, rgba(40,40,40,0.1) 0%, rgba(0,0,0,0.6) 100%);\r\n\r\n        .back-button {\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            width: 5rem;\r\n            height: 5rem;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n        }\r\n\r\n        img {\r\n            height: 12rem;\r\n            width: 12rem;\r\n            border-radius: 10px;\r\n        }\r\n\r\n        .info {\r\n            flex: 1;\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: flex-end;\r\n            gap: 0.3rem;\r\n\r\n            .show-type {\r\n                font-weight: bold;\r\n                font-size: 12px;\r\n                text-transform: uppercase;\r\n            }\r\n\r\n            .show-title {\r\n                font-weight: 900;\r\n                font-size: 40px;\r\n            }\r\n        }\r\n    }\r\n\r\n    .content {\r\n        grid-area: content;\r\n        background: linear-gradient(180deg, rgba(20, 20, 20, 0.3) -15rem, rgba(20, 20, 20, 1) 10rem);\r\n        padding: 2rem 1rem 1rem 1rem;\r\n        display: flex;\r\n        flex-direction: column;\r\n\r\n        .section-title {\r\n            font-weight: bold;\r\n            font-size: 22px;\r\n            margin-bottom: 1rem;\r\n        }\r\n\r\n        .description-content {\r\n            color: rgba(255,255,255,0.5);\r\n            font-weight: lighter;\r\n            margin-top: -1rem;\r\n            margin-bottom: 1rem;\r\n        }\r\n\r\n        .episode {\r\n            height: 7rem;\r\n            border-top: 2px solid rgba(255,255,255,0.1);\r\n            padding: 1rem 0;\r\n            display: grid;\r\n            grid-template-areas: \"image info\";\r\n            grid-template-columns: 7rem calc(100% - 8rem);\r\n            grid-template-rows: 7rem;\r\n            gap: 1rem;\r\n\r\n            img {\r\n                grid-area: image;\r\n                height: 7rem;\r\n                border-radius: 10px;\r\n            }\r\n\r\n            .episode-info {\r\n                grid-area: info;\r\n                height: 7rem;\r\n                display: flex;\r\n                flex-direction: column;\r\n\r\n                .episode-title {\r\n                    font-weight: bold;\r\n                    padding: 0.8rem 0;\r\n                }\r\n\r\n                .episode-description {\r\n                    overflow: hidden;\r\n                    font-size: 14px;\r\n                    color: rgba(255,255,255,0.5);\r\n                    font-weight: lighter;\r\n                    height: 38px;\r\n                }\r\n            }\r\n        }\r\n\r\n        .load-more {\r\n            height: 3rem;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            background: rgba(255,255,255,0.05);\r\n            border-radius: 5px;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./show.vue?vue&type=template&id=6489d6a2&scoped=true\"\nimport script from \"./show.vue?vue&type=script&lang=js\"\nexport * from \"./show.vue?vue&type=script&lang=js\"\n\nimport \"./show.vue?vue&type=style&index=0&id=6489d6a2&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\simon\\\\Desktop\\\\Development\\\\car-display\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6489d6a2\"]])\n\nexport default __exports__"],"sourceRoot":""}